<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3168px" height="847px" viewBox="-0.5 -0.5 3168 847" content="&lt;mxfile host=&quot;www.draw.io&quot; modified=&quot;2020-02-23T10:16:57.627Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.106 Safari/537.36&quot; etag=&quot;7ERn5jxj6_XZLs5UuAPE&quot; version=&quot;12.7.2&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;C5RBs43oDa-KdzZeNtuy&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://www.draw.io/#Hwire-mistry%2FAOSP_Gaphics%2Fmaster%2FSurface%20Flinger.svg"><defs/><g><path d="M 132 136 L 132 166 L 157 166 L 157 185.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 157 194.88 L 152.5 185.88 L 161.5 185.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="47" y="106" width="170" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 121px; margin-left: 48px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SurfaceFlinger::OnTransact {Binder call 1006} Calls</div></div></div></foreignObject><text x="132" y="125" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SurfaceFlinger::OnTransact {...</text></switch></g><path d="M 157 226 L 157 299.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 157 304.88 L 153.5 297.88 L 157 299.63 L 160.5 297.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="67" y="196" width="180" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 211px; margin-left: 68px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">signalRefresh()</div></div></div></foreignObject><text x="157" y="215" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">signalRefresh()</text></switch></g><path d="M 157 336 L 157 376 L 177 376 L 177 409.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 177 414.88 L 173.5 407.88 L 177 409.63 L 180.5 407.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="67" y="306" width="180" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 321px; margin-left: 68px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">mEventQueue-&gt;Refersh()</div></div></div></foreignObject><text x="157" y="325" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">mEventQueue-&gt;Refersh()</text></switch></g><path d="M 177 476 L 177 496 L 177 486 L 177 499.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 177 504.88 L 173.5 497.88 L 177 499.63 L 180.5 497.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="67" y="416" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 446px; margin-left: 68px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MessageQueue has a handler object , and Refresh() calls handler's <br />dispatchRefresh()</div></div></div></foreignObject><text x="177" y="450" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">MessageQueue has a handler object ,...</text></switch></g><path d="M 177 566 L 177 639.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 177 644.88 L 173.5 637.88 L 177 639.63 L 180.5 637.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="67" y="506" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 536px; margin-left: 68px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">dispatchRefresh() is wrapper for messageQueue's looper's sendMessage()</div></div></div></foreignObject><text x="177" y="540" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">dispatchRefresh() is wrapper for mes...</text></switch></g><path d="M 177 706 L 177 779.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 177 784.88 L 173.5 777.88 L 177 779.63 L 180.5 777.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="67" y="646" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 676px; margin-left: 68px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">The sendMessage of messageQueue :: looper is responded by handleMessage of messageQueue. </div></div></div></foreignObject><text x="177" y="680" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">The sendMessage of messageQueue :: l...</text></switch></g><rect x="67" y="786" width="220" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 816px; margin-left: 68px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">handleMessage of messageQueue call's OnMessageReceived of surface Flinger</div></div></div></foreignObject><text x="177" y="820" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">handleMessage of messageQueue call's...</text></switch></g><rect x="17" y="36" width="600" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 598px; height: 1px; padding-top: 56px; margin-left: 18px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">&lt;Comment&gt; This Signal Refresh is called inside the onMessageReceived() function of surface flinger, it may seem like cyclic loop But there are checks for bootstage:BOOTLOADER, yet to be explored</div></div></div></foreignObject><text x="317" y="60" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;Comment&gt; This Signal Refresh is called inside the onMessageReceived() function of surface flinger,...</text></switch></g><path d="M 307 296 L 307 321 L 253.37 321" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.12 321 L 255.12 317.5 L 253.37 321 L 255.12 324.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 247 243.5 C 199 243.5 187 261 225.4 264.5 C 187 272.2 230.2 289 261.4 282 C 283 296 355 296 379 282 C 427 282 427 268 397 261 C 427 247 379 233 337 240 C 307 229.5 259 229.5 247 243.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 261px; margin-left: 188px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">mEventQueue is <br />MessageQueue object</div></div></div></foreignObject><text x="307" y="265" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">mEventQueue is...</text></switch></g><path d="M 307 611 L 232 611 L 232 639.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 232 644.88 L 228.5 637.88 L 232 639.63 L 235.5 637.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 307 561 L 517 561 L 517 631 L 432 631 L 412 661 L 412 631 L 307 631 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 596px; margin-left: 308px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Hope Fully some day will solve the magic of How looper-&gt;sendMessage  of message queue calls handle message of messge queue</div></div></div></foreignObject><text x="412" y="600" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Hope Fully some day will solve the...</text></switch></g><path d="M 307 611 L 232 611 L 232 572.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 232 567.12 L 235.5 574.12 L 232 572.37 L 228.5 574.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 447 141 L 332 141 L 332 128.5 L 223.37 128.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.12 128.5 L 225.12 125 L 223.37 128.5 L 225.12 132 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 637 196 L 637 269.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/><path d="M 637 274.88 L 633.5 267.88 L 637 269.63 L 640.5 267.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="447" y="86" width="380" height="110" rx="16.5" ry="16.5" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 378px; height: 1px; padding-top: 141px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">As like every other onTransact, this too has to be called by some binder , and this biner initiation is object is taken by taking the "SurfaceFlinger" service in SurfaceComposerClient.cpp @ function connectLocked() of ComposerService class. <br />Note: ComposorClient inherits singleton class  hence get instance method is available directly to composerClitent: Link2</div></div></div></foreignObject><text x="637" y="145" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">As like every other onTransact, this too has to be called by so...</text></switch></g><rect x="447" y="276" width="380" height="110" rx="16.5" ry="16.5" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 378px; height: 1px; padding-top: 331px; margin-left: 448px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">This binder us usually used to setup transactions and does no gives any signalrefresh or a message which may hint surface flinger to start compositing.<br />Hence we can say the calls ontransact calls of surface flinger is used to  debug the surface flinger and hence the composition of handling on vsync period is done at diffrent place. As <a href="https://www.slideshare.net/hungys/project-meeting-android-graphics-architecture-overview">this</a>(Link1) link suggests  is done through some call back of harware composer's generation on vsync and hence following on that line Starting with link3</div></div></div></foreignObject><text x="637" y="335" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">This binder us usually used to setup transactions and does no g...</text></switch></g><path d="M 67 211 L 17 211 Q 7 211 7 201 L 7 66 Q 7 56 8.82 56 L 10.63 56" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/><path d="M 15.88 56 L 8.88 59.5 L 10.63 56 L 8.88 52.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><a xlink:href="https://waynewolf.github.io/2014/06/22/surfaceflinger-and-client/"><rect x="687" y="26" width="360" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 33px; margin-left: 689px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Link2:https://waynewolf.github.io/2014/06/22/surfaceflinger-and-client/</div></div></div></foreignObject><text x="689" y="45" fill="#000000" font-family="Helvetica" font-size="12px">Link2:https://waynewolf.github.io/2014/06/22/surfaceflinger-...</text></switch></g></a><rect x="2217" y="86" width="950" height="640" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 93px; margin-left: 2219px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Link2:<br /><br />handleMessageRefresh<br />     |—&gt; preComposition<br />     |—&gt; rebuildLayerStacks<br />     |—&gt; setUpHWComposer<br />          |—&gt; HWComposer::createWorkList &lt;== hwc="" structures="" are="" allocated="" |—=""&gt; Layer::setGeometry()<br />          |—  set per frame data<br />          |—  HWComposer::prepare<br />               |—&gt; hwc prepare<br />     |—&gt; doComposition<br />          |---- skip composition on external display if condition meets<br />          |—&gt; doDisplayComposition<br />          |    |—&gt; doComposeSurfaces<br />          |     |—&gt; DisplayDevice::swapBuffers<br />          |          |—&gt; eglSwapBuffers<br />          |          |—&gt; FramebufferSurface::advanceFrame<br />          |—&gt; DisplayDevice::flip(…)     &lt;== just="" update="" statistics="" count="" |--=""&gt; Call DisplayDevice::compositionComplete(), notify each display<br />               |--&gt; DisplaySurface::compositionComplete()<br />                    |--&gt; FramebufferSurface::compositionComplete()<br />                         |--&gt; HWComposer::fbCompositionComplete()<br />                              |--&gt; NoOP if HWC &gt;= 1.1<br />                              |--&gt; used only in framebuffer device case.<br />          |—&gt; postFrameBuffer<br />               |—&gt; HWComposer::commit<br />                    |—&gt; hwc set<br />                    |—&gt; update retireFenceFd of hwc_display_contents_1<br />               |—&gt; DisplayDevice::onSwapBuffersCompleted<br />                    |—&gt; FramebufferSurface::onFrameComitted<br />               |—&gt; Layer::onLayerDisplayed<br />               |—   update some statistics<br />     |—&gt; postComposition</div></div></div></foreignObject><text x="2219" y="105" fill="#000000" font-family="Helvetica" font-size="12px">Link2:...</text></switch></g><a xlink:href="https://waynewolf.github.io/2014/06/22/surfaceflinger-and-client/"><rect x="2007" y="6" width="360" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 13px; margin-left: 2009px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">https://waynewolf.github.io/2014/06/22/surfaceflinger-and-client/</div></div></div></foreignObject><text x="2009" y="25" fill="#000000" font-family="Helvetica" font-size="12px">https://waynewolf.github.io/2014/06/22/surfaceflinger-and-cl...</text></switch></g></a><rect x="447" y="0" width="530" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 10px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Link1 : https://www.slideshare.net/hungys/project-meeting-android-graphics-architecture-overview</div></div></div></foreignObject><text x="712" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Link1 : https://www.slideshare.net/hungys/project-meeting-android-graphics-architecture-...</text></switch></g><a xlink:href="https://charleszblog.wordpress.com/2014/02/22/understanding-android-internals-surfaceflinger-ii/"><rect x="917" y="56" width="540" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 63px; margin-left: 919px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Link3 :  https://charleszblog.wordpress.com/2014/02/22/understanding-android-internals-surfaceflinger-ii/</div></div></div></foreignObject><text x="919" y="75" fill="#000000" font-family="Helvetica" font-size="12px">Link3 :  https://charleszblog.wordpress.com/2014/02/22/understanding-android-internals-sur...</text></switch></g></a></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>